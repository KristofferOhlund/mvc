{% extends 'base.html.twig' %}
{% block title %}Adventure - {{app.request.attributes.get('_route')|title}} {% endblock %}

{% block body %}
<div class="background">
    <img src=" {{ asset('build/images/adventure/' ~ img) }} " alt="graveyard">
</div>
  

{% include 'flash.html.twig' %}
<div class="player-info">
    <h2>Player health: {{ human.getHealth() }}</h2>
    <h2>Player weapon: <span>{{ human.getWeaponName() }} <img class="icon" src="{{ asset('build/images/adventure/icons/' ~ human.getWeaponName() ~ ".png") }}" alt=""}} </span></h2>
    <h2>Inventory:</h2>

    <ul>
        {% for item in backpack %}
        <li><img class="icon" src="{{ asset('build/images/adventure/icons/' ~ item ~ ".png") }}" alt=""></li>
        {% endfor %}
    </ul>

</div>

{% block roomtext %}
<div class="room-content">
    <div class="room-text">
        <p>
            Graveyard Awakening - You wake up with a dull ache at the back of your head. The ground beneath you is cold and damp,
            covered in
            rotting
            leaves and tangled roots. A thick fog clings to the earth, and crooked tombstones loom like silent watchers
            around you.
            Everything is quiet. Too quiet.
            Slung over your shoulders is an old, worn backpack. You don’t remember putting it there. You don’t remember how
            you got
            here.
            In front of you, at the center of the graveyard, lies a skeleton — half-buried, its ribs wrapped around a rusted
            sword
            driven deep into the soil. The body looks ancient, but something about it feels… recent. As if it died with
            purpose.
            Protecting something. Or sealing something away.
            Around you:
            A crumbling stone wall encircles the graveyard.
            A broken wooden cross leans against a moss-covered headstone.
            Footprints trail off into a shadowy grove beyond the fence.
            A strange amulet, half-buried near the skeleton, catches the faint light.
            The air is heavy. You feel it in your chest — something watches from beyond the mist.
        </p>
    </div>
    {% endblock roomtext %}

    {% block roomform %}
    <div class="room-form">
        <form action=" {{ path('equip_item') }}", method="post">
            {% for item in roomObjects %}
                {% if item.getName() not in backpack and item.getName() != human.getWeaponName() %}
                    <input type="hidden" name="referer_route" value="{{ app.request.attributes.get('_route') }}">
                    <input type="radio" id="{{ item.getName()}}" name="item" value="{{ item.getName()}}">
                    <label for="{{ item.getName()}}">Pick up the {{ item.getName() }}</label><br>
                {% endif %}
            {% endfor %}

            {% if roomObjects|length > 0 %}
                <input type="submit" name="submit" id="submit" value="Equip">
            {% endif %}
        </form>
    </div>

    <div class="arrow-nav">
        <a href="{{ path(prev) }} "><i class="fa-solid fa-arrow-left nav-arrow"></i></a>
        <a href="{{ path(next) }} "><i class="fa-solid fa-arrow-right nav-arrow"></i></a>
    </div>

    {% endblock roomform %}

</div>

{% endblock body %}